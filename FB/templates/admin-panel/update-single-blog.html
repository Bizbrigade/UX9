{% extends 'admin-panel/base.html' %}
{% block content %}
{% load static %}

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <div class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1 class="m-0">Update Blog</h1>
                </div><!-- /.col -->
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="{% url 'admin' %}">Home</a></li>
                        <li class="breadcrumb-item active">Update Blog</li>
                    </ol>
                </div><!-- /.col -->
            </div><!-- /.row -->
        </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->
    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">
            <!-- Info boxes -->
            <div class="row">
                <div class="col-12">
                    <div class="card card-primary card-outline card-outline-tabs">
                        <div class="card-header p-0 border-bottom-0">
                            <ul class="arrow-tab nav nav-tabs" id="custom-tabs-four-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="tab-first" data-toggle="pill"
                                        href="#custom-tab-first" role="tab" aria-controls="custom-tab-first"
                                        aria-selected="true">Basic Info <img src="./images/right-arrow.png" alt=""></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="tab-second" data-toggle="pill" href="#custom-tab-second"
                                        role="tab" aria-controls="custom-tab-second" aria-selected="false">SEO &
                                        Analytics <img src="./images/right-arrow.png" alt=""></a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="custom-tabs-four-tabContent">
                                <!-- First -->
                                <div class="tab-pane fade active show" id="custom-tab-first" role="tabpanel"
                                    aria-labelledby="tab-first">
                                    <!-- form start -->
                                    <form >
                                        <div id="csrf-token">
                                            {% csrf_token %}
                                            </div>
                                        
                                        {% if msg %}
                                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                                            <strong>{{msg}}</strong>
                                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        {% endif %}
                                        <div class="card-body">
                                            <div class="form-group">
                                                <label for="blog-head">Blog Title :</label>
                                                <input type="text" name="blog_title" value="{{blog_data.blog_title}}"
                                                    class="form-control FormDataInput" id="blog-head"
                                                    placeholder="Blog title write here" required>
                                            </div>
                                            <div class="form-group">
                                                <label for="blog-image">Blog image :</label>
                                                <div class="input-group">
                                                    <div class="custom-file w-100">
                                                        <input type="file" name="blog_image"
                                                            value="{{blog_data.blog_image}}" class="custom-file-input FormDataInput"
                                                            id="blog-image" accept="image/*">
                                                        <label class="custom-file-label" for="blog-image">Choose
                                                            Image</label>
                                                    </div>
                                                    <p class="text-muted mb-0">{{blog_data.blog_image}}</p>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="blog-content">Blog content</label>
                                                <textarea class="form-control FormDataTextarea"  name="blog_content"
                                                    rows="4" id="text-area-summernote"
                                                    placeholder="Content for the blog">{{blog_data.blog_content}}</textarea>
                                                </div>
                                            </div>
                                            <!-- <textarea name="dfasd" class="form-control FormDataInput" id="" cols="30" rows="10"> dummy text </textarea> -->
                                        <!-- /.card-body -->

                                        <div class="card-footer">
                                            <button type="button" class="btn btn-1 float-left bg-red"
                                                data-toggle="modal" data-target="#modal-default">Delete</button>
                                            <button type="button" class="btn btn-1 float-right" id="updateSubmitBtn" onclick="send_data('/update-single-blog/{{blog_data.id}}')">Update</button>
                                        </div>
                                        <!-- delete button modal -->
                                        <div class="modal fade" id="modal-default" style="display: none;"
                                            aria-modal="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header border-0">
                                                        <h4 class="modal-title">Delete Blog</h4>
                                                        <button type="button" class="close" data-dismiss="modal"
                                                            aria-label="Close">
                                                            <span aria-hidden="true">Ã—</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body py-0">
                                                        <p>Do you want to delete this blog permanently.</p>
                                                        <small>To confirm this type "DELETE"</small>
                                                    </div>
                                                    <div class="modal-footer justify-content-between border-0">
                                                        <input type="text" name="confirm_delete" value="{{i.id}}"
                                                            class="form-control FormDataInput w-auto"  id="confirm-btn">
                                                        <a  href={% url 'delete_blog' pk=blog_data.id %} class="btn btn-1 bg-red"> Delete </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- /. delete button modal -->
                                    </form>
                                </div>
                                <!-- Second -->
                                <div class="tab-pane fade" id="custom-tab-second" role="tabpanel"
                                    aria-labelledby="tab-second">
                                    <div class="form-group">
                                        <label for="blog_seo_title">Blog SEO Title
                                            :</label>
                                        <input type="text" name="blog_seo_title" class="form-control FormDataInput" id="blog_seo_title"
                                            placeholder="Blog SEO Title" value="{{blog_data.blog_seo_title}}" >
                                    </div>
                                    <div class="form-group">
                                        <label for="blog_seo_desc">Blog SEO Description
                                            :</label>
                                        <input type="text" name="blog_seo_description" class="form-control FormDataInput" id="blog_seo_desc"
                                            placeholder="Blog SEO Description" value="{{blog_data.blog_seo_description}}">
                                    </div>
                                    <div class="form-group">
                                        <label for="blog_seo_keyword">Blog SEO Keywords
                                            :</label>
                                        <input type="text" name="blog_seo_keywords" class="form-control FormDataInput" id="blog_seo_keyword"
                                            placeholder="Blog SEO Keywords separated by comma(,)"  value="{{blog_data.blog_seo_keywords}}">
                                    </div>
                                        
                                 <!-- Script -->
                                    <div class="form-group">
                                        <label for="aboutBsdfsadf"> Blog Bot/Script :</label>
                                        <textarea class="form-control FormDataInput" name="blog_script" rows="8" id="fd"
                                            placeholder="Paste your script here (optional)">{{blog_data.blog_script}}</textarea>
                                    </div>
                                </div>
                                <!--  -->
                            </div>
                        </div>
                        <!-- /.card -->
                    </div>
                </div>
            </div>
            <!-- /.row -->

        </div>
        <!--/. container-fluid -->
    </section>
    <!-- /.content -->
</div>
<!-- /.content-wrapper -->

<!-- Control Sidebar -->
<aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
</aside>
<!-- /.control-sidebar -->

<!-- Main Footer -->
<footer class="main-footer">
    <strong>Copyright &copy; 2022 <a href="https://www.techfnatic.com/">TechFnatic</a>.</strong>
    All rights reserved.
    <div class="float-right d-none d-sm-inline-block">
        <b>Franchise Brigade</b>
    </div>
</footer>
</div>
<!-- ./wrapper -->

<!-- <script src="{% static 'admin/js/main.js' %}"></script> -->

<!-- REQUIRED SCRIPTS -->
<!-- jQuery -->
<!-- <script src="{% static 'admin/js/jquery.js' %}"></script> -->
<!-- Bootstrap -->
<!-- <script src="{% static 'admin/js/bootstrap.bundle.js' %}"></script> -->
<!-- overlayScrollbars -->
<!-- <script src="{% static 'admin/js/jquery.overlayScrollbars.js' %}"></script> -->
<!-- AdminLTE App -->
<!-- <script src="{% static 'admin/js/adminlte.js' %}"></script> -->
<!-- Custom JS -->
<!-- <script src="{% static 'admin/js/main.js' %}"></script> -->

<!-- Summernote -->
<!-- <script src="{% static 'admin/js/summernote-bs4.js' %}"></script> -->


<!-- CodeMirror -->
<!-- <script src="{% static 'admin/js/codemirror.js' %}"></script> -->
<!-- <script src="{% static 'admin/js/css.js' %}"></script> -->
<!-- <script src="{% static 'admin/js/xml.js' %}"></script> -->
<!-- <script src="{% static 'admin/js/htmlmixed.js' %}"></script> -->



<!-- Page specific script -->
<!-- <script>
    $(function () {
        // Summernote
        $('#blog-content').summernote()

        // CodeMirror
        CodeMirror.fromTextArea(document.getElementById("codeMirrorDemo"), {
            mode: "htmlmixed",
            theme: "monokai"
        });
    })
</script> -->




<script type="text/javascript">

    function GetDynamicTextBox(value, id_value) {
        return '<input name="brand_seo" id="' + id_value + '" onkeyup="wordLimit(this, 1);"  type="text" value = "' + value + '" />' +
            '<input type="button" value="Remove" onclick = "RemoveTextBox(this)" />'
    }



    function AddTextBox() {
        var div = document.createElement('DIV');
        div.innerHTML = GetDynamicTextBox("", "seo_add_list");
        document.getElementById("TextBoxContainer").appendChild(div);

    }
    function RemoveTextBox(div) {
        document.getElementById("TextBoxContainer").removeChild(div.parentNode);
    }

    function RecreateDynamicTextboxes() {
        var values = eval('<%=Values%>');
        if (values != null) {
            var html = "";
            for (var i = 0; i < values.length; i++) {
                html += "<div>" + GetDynamicTextBox(values[i]) + "</div>";
            }
            document.getElementById("TextBoxContainer").innerHTML = html;
        }
    }
    window.onload = RecreateDynamicTextboxes;
</script>

{% endblock %}