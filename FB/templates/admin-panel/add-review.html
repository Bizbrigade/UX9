{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Franchise Brigade Dashboard</title>

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="{% static 'admin/css/all.css' %}">
    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="{% static 'admin/css/OverlayScrollbars.css' %}">
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static 'admin/css/adminlte.css' %}">
    <!-- summernote -->
    <link rel="stylesheet" href="{% static 'admin/css/summernote-bs4.css' %}">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'admin/css/style.css' %}">
</head>

<body class="hold-transition sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed" id="body">
    <div class="wrapper">

        <!-- Preloader -->
        <div class="preloader flex-column justify-content-center align-items-center">
            <img class="animation__wobble" src="{{home_details.logo}}" alt="AdminLTELogo" height="60" width="60">
            <h1>Franchise Brigade</h1>
        </div>
{% include "admin-panel/navbar-sidebar.html" %}
        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="m-0">Add Review</h1>
                        </div><!-- /.col -->
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="{% url 'admin' %}">Home</a></li>
                                <li class="breadcrumb-item active">Add Review</li>
                            </ol>
                        </div><!-- /.col -->
                    </div><!-- /.row -->
                </div><!-- /.container-fluid -->
            </div>
            <!-- /.content-header -->
            <!-- Main content -->
            <section class="content">
                <div class="container-fluid">
                    <!-- Info boxes -->
                    <div class="row">
                        <div class="col-12">
                            <div class="card card-primary card-outline card-outline-tabs">
                                <div class="card-header p-0 border-bottom-0">
                                    <ul class="arrow-tab nav nav-tabs" id="custom-tabs-four-tab" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link active" id="tab-first" data-toggle="pill"
                                                href="#custom-tab-first" role="tab" aria-controls="custom-tab-first"
                                                aria-selected="true">Text Review<img src="./images/right-arrow.png"
                                                    alt=""></a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="tab-second" data-toggle="pill"
                                                href="#custom-tab-second" role="tab" aria-controls="custom-tab-second"
                                                aria-selected="false">Video Review <img src="./images/right-arrow.png"
                                                    alt=""></a>
                                        </li>

                                    </ul>
                                </div>
                                <div class="card-body">
                                <form method="post" enctype="multipart/form-data">
                                    {% csrf_token %}
                                    {% if msg %}
                                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                                        <strong>{{msg}}</strong> 
                                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                          <span aria-hidden="true">&times;</span>
                                        </button>
                                      </div>
                                    {% endif %}
                                    <div class="tab-content" id="custom-tabs-four-tabContent">
                                        <!-- First -->
                                        <div class="tab-pane fade active show" id="custom-tab-first" role="tabpanel"
                                            aria-labelledby="tab-first">
                                            <!-- form start -->
                                            
                                                <div class="card-body">
                                                    <div class="form-group">
                                                        <label for="name">Name :</label>
                                                        <input type="text" name="review_name" class="form-control" id="name"
                                                            placeholder="Name who give review" >
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="exampleInputFile">Image :</label>
                                                        <div class="input-group">
                                                            <div class="custom-file w-100">
                                                                <input type="file" name="review_image" class="custom-file-input"
                                                                    id="exampleInputFile" accept="image/*" >
                                                                <label class="custom-file-label"
                                                                    for="exampleInputFile">Select Image</label>
                                                            </div>
                                                            <p class="text-muted mb-0">Image should be
                                                                130x130 px</p>
                                                        </div>
                                                    </div>
                                                    <!-- <div class="form-group">
                                                        <label for="exampleInputFile">Video :</label>
                                                        <div class="input-group">
                                                            <div class="custom-file">
                                                                <video src=""></video>
                                                                <input type="videofile" name="review_video" class="custom-file-input"
                                                                    id="videofile"  accept="video/*" >
                                                                <label class="custom-file-label"
                                                                    for="exampleInputFile"> Video should be
                                                                    130x130 px</label>
                                                            </div>
                                                        </div>
                                                    </div> -->
                                                    <div class="form-group">
                                                        <label for="review">Write a Review</label>
                                                        <textarea class="form-control" rows="4" id="review"
                                                            placeholder="Write a Review" name="review_content" ></textarea>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="rating">Rating :</label>
                                                        <select class="form-control" name="" id="rating">
                                                            <option>1 </option>
                                                            <option>2 </option>
                                                            <option>3 </option>
                                                            <option>4 </option>
                                                            <option>5 </option>
                                                        </select>
                                                    </div>
                                                    <!-- <div class="form-group">
                                                        <label for="name">stnbb :</label>
                                                        <input type="radio" name="review_status" value="Yes" id="name">Yes                                                                                                      
                                                        <input type="radio" name="review_status" value="No" id="name">No
                                                    </div> -->
                                                    <div class="form-group flex-end">
                                                        <label class="form-check-label fw-700" for="radio1">Do you want to show this on the home page :</label>
                                                        <div class="form-check ms-2">
                                                            <input class="form-check-input" type="radio" name="review_status" value="Yes" id="radio1">
                                                            <label class="form-check-label" for="radio1">Yes</label>
                                                        </div>
                                                        <div class="form-check ms-2">
                                                            <input class="form-check-input" type="radio" name="review_status" value="No" id="radio2" checked="">
                                                            <label class="form-check-label" for="radio2">No</label>
                                                        </div>
                                                    </div>
                                                    <!-- <div class="form-group">
                                                        <label for="">Video Status</label>
                                                        <input type="radio" name="review_status" value="Yes">Yes
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="">Video Status</label>
                                                        <input type="radio" name="review_status" value="No">No
                                                    </div> -->
                                                </div>
                                                <!-- /.card-body -->

                                                <div class="card-footer">
                                                    <button type="submit" class="btn btn-primary type-2">Upload</button>
                                                </div>
                                            
                                        </div>
                                        <!-- Second -->
                                        
                                        <div class="tab-pane fade" id="custom-tab-second" role="tabpanel"
                                            aria-labelledby="tab-second">
                                            

                                                <form class="form-group">
                                                    <label class="form__container" id="upload-container">Choose or Drag
                                                        & Drop Files
                                                        <input class="form__file" id="upload-files" name="review_video" type="file"
                                                            multiple="multiple" />
                                                    </label>
                                                    <div id="files-list-container"></div>
                                                

                                                    <!-- <div class="card-footer">
                                                        <button type="button" class="btn btn-1 float-left">Prev</button>
                                                        <button type="submit" class="btn btn-1 float-right">Update</button>
                                                    </div> -->
                                                    <div class="card-footer">
                                                        <input type="submit" class="btn btn-primary type-2" value="Upload">
                                                    </div>
                                                </form>
                                        </div>
                                        <!--  -->
                                    </div>
                                </form>
                                </div>
                                </div>
                                <!-- /.card -->
                            </div>
                        </div>
                    </div>
                    <!-- /.row -->

                </div>
                <!--/. container-fluid -->
            </section>
            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->

        <!-- Control Sidebar -->
        <aside class="control-sidebar control-sidebar-dark">
            <!-- Control sidebar content goes here -->
        </aside>
        <!-- /.control-sidebar -->

        <!-- Main Footer -->
        <footer class="main-footer">
            <strong>Copyright &copy; 2022 <a href="https://www.techfnatic.com/">TechFnatic</a>.</strong>
            All rights reserved.
            <div class="float-right d-none d-sm-inline-block">
                <b>Franchise Brigade</b>
            </div>
        </footer>
    </div>
    <!-- ./wrapper -->

    <!-- REQUIRED SCRIPTS -->
    <!-- jQuery -->
    <script src="{% static 'admin/js/jquery.js' %}"></script>
    <!-- Bootstrap -->
    <script src="{% static 'admin/js/bootstrap.bundle.js' %}"></script>
    <!-- overlayScrollbars -->
    <script src="{% static 'admin/js/jquery.overlayScrollbars.js' %}"></script>
    <!-- AdminLTE App -->
    <script src="{% static 'admin/js/adminlte.js' %}"></script>
    <!-- Custom JS -->
    <script src="{% static 'admin/js/main.js' %}"></script>

    <!-- Summernote -->
    <script src="{% static 'admin/js/summernote-bs4.js' %}"></script>

    <!-- Page specific script -->
    <script>
        $(function () {
            // Summernote
            $('#review').summernote()

            // CodeMirror
            CodeMirror.fromTextArea(document.getElementById("codeMirrorDemo"), {
                mode: "htmlmixed",
                theme: "monokai"
            });
        })
    </script>
<script>
    const multipleEvents = (element, eventNames, listener) => {
        const events = eventNames.split(' ');

        events.forEach(event => {
            element.addEventListener(event, listener, false);
        });
    };

    const fileUpload = () => {
        const INPUT_FILE = document.querySelector('#upload-files');
        const INPUT_CONTAINER = document.querySelector('#upload-container');
        const FILES_LIST_CONTAINER = document.querySelector('#files-list-container');
        const FILE_LIST = [];

        multipleEvents(INPUT_FILE, 'click dragstart dragover', () => {
            INPUT_CONTAINER.classList.add('active');
        });

        multipleEvents(INPUT_FILE, 'dragleave dragend drop change', () => {
            INPUT_CONTAINER.classList.remove('active');
        });

        INPUT_FILE.addEventListener('change', () => {
            const files = [...INPUT_FILE.files];

            files.forEach(file => {
                const fileURL = URL.createObjectURL(file);
                const fileName = file.name;
                const uploadedFiles = {
                    name: fileName,
                    url: fileURL
                };


                FILE_LIST.push(uploadedFiles);
            });

            FILES_LIST_CONTAINER.innerHTML = '';
            FILE_LIST.forEach(addedFile => {
                const content = `
        <div class="form__files-container">
          <span class="form__text">${addedFile.name}</span>
          <div>
            <a class="form__icon" href="${addedFile.url}" target="_blank" title="Preview">&#128065;</a>
            <a class="form__icon" href="${addedFile.url}" title="Download" download>&#11123;</a>
          </div>
        </div>
      `;

                FILES_LIST_CONTAINER.insertAdjacentHTML('beforeEnd', content);
            });
        });
    };

    fileUpload();
</script>

<!-- Input field js -->
<script>
    !function (e, t) { "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : (e = e || self).bsCustomFileInput = t() }(this, function () { "use strict"; var s = { CUSTOMFILE: '.custom-file input[type="file"]', CUSTOMFILELABEL: ".custom-file-label", FORM: "form", INPUT: "input" }, l = function (e) { if (0 < e.childNodes.length) for (var t = [].slice.call(e.childNodes), n = 0; n < t.length; n++) { var l = t[n]; if (3 !== l.nodeType) return l } return e }, u = function (e) { var t = e.bsCustomFileInput.defaultText, n = e.parentNode.querySelector(s.CUSTOMFILELABEL); n && (l(n).textContent = t) }, n = !!window.File, r = function (e) { if (e.hasAttribute("multiple") && n) return [].slice.call(e.files).map(function (e) { return e.name }).join(", "); if (-1 === e.value.indexOf("fakepath")) return e.value; var t = e.value.split("\\"); return t[t.length - 1] }; function d() { var e = this.parentNode.querySelector(s.CUSTOMFILELABEL); if (e) { var t = l(e), n = r(this); n.length ? t.textContent = n : u(this) } } function v() { for (var e = [].slice.call(this.querySelectorAll(s.INPUT)).filter(function (e) { return !!e.bsCustomFileInput }), t = 0, n = e.length; t < n; t++)u(e[t]) } var p = "bsCustomFileInput", m = "reset", h = "change"; return { init: function (e, t) { void 0 === e && (e = s.CUSTOMFILE), void 0 === t && (t = s.FORM); for (var n, l, r = [].slice.call(document.querySelectorAll(e)), i = [].slice.call(document.querySelectorAll(t)), o = 0, u = r.length; o < u; o++) { var c = r[o]; Object.defineProperty(c, p, { value: { defaultText: (n = void 0, n = "", (l = c.parentNode.querySelector(s.CUSTOMFILELABEL)) && (n = l.textContent), n) }, writable: !0 }), d.call(c), c.addEventListener(h, d) } for (var f = 0, a = i.length; f < a; f++)i[f].addEventListener(m, v), Object.defineProperty(i[f], p, { value: !0, writable: !0 }) }, destroy: function () { for (var e = [].slice.call(document.querySelectorAll(s.FORM)).filter(function (e) { return !!e.bsCustomFileInput }), t = [].slice.call(document.querySelectorAll(s.INPUT)).filter(function (e) { return !!e.bsCustomFileInput }), n = 0, l = t.length; n < l; n++) { var r = t[n]; u(r), r[p] = void 0, r.removeEventListener(h, d) } for (var i = 0, o = e.length; i < o; i++)e[i].removeEventListener(m, v), e[i][p] = void 0 } } });
</script>
<script>
    $(function () {
        bsCustomFileInput.init();
    });
</script>
</body>

</html>