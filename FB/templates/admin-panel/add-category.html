{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Franchise Brigade Dashboard</title>

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="{% static '/admin/css/all.css' %}">
    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="{% static '/admin/css/OverlayScrollbars.css' %}">
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static '/admin/css/adminlte.css' %}">
    <!-- summernote -->
    <link rel="stylesheet" href="{% static '/admin/css/summernote-bs4.css' %}">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static '/admin/css/style.css' %}">
</head>

<body class="hold-transition sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed" id="body">
    <div class="wrapper">

        <!-- Preloader -->
        <div class="preloader flex-column justify-content-center align-items-center">
            <img class="animation__wobble" src="{{home_details.logo}}" alt="AdminLTELogo" height="60" width="60">
            <h1>Franchise Brigade</h1>
        </div>
{% include "admin-panel/navbar-sidebar.html" %}
        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="m-0">Add Category</h1>
                        </div><!-- /.col -->
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="{% url 'admin' %}">Home</a></li>
                                <li class="breadcrumb-item active">Add Category</li>
                            </ol>
                        </div><!-- /.col -->
                    </div><!-- /.row -->
                </div><!-- /.container-fluid -->
            </div>
            <!-- /.content-header -->

            <!-- Main content -->
            <section class="content">
                <div class="container-fluid">
                    <!-- Info boxes -->
                    <div class="row">
                        <div class="col-12">
                            <div class="card card-primary card-outline card-outline-tabs">
                                <div class="card-header p-0 border-bottom-0">
                                    <ul class="progressbar nav nav-tabs" id="custom-tabs-four-tab" role="tablist">
                                        <li class="nav-item" >
                                            <span class="nav-link active" id="tab-first" step="1">Basic Info</span>
                                        </li>
                                        <li class="nav-item" >
                                            <span class="nav-link" id="tab-second" step="2">SEO & Analytics</span>
                                        </li>
                                    </ul>
                                </div>
                                <form method="post" enctype="multipart/form-data">
                                    {% csrf_token %}
                                    {% if msg %}
                                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                                        <strong>{{msg}}</strong> 
                                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                          <span aria-hidden="true">&times;</span>
                                        </button>
                                      </div>
                                    {% endif %}
                                    <div class="card-body">
                                        <div class="tab-content" id="custom-tabs-four-tabContent">
                                            <!-- First -->
                                            <div class="tab-pane fade active show" id="step-1" role="tabpanel"
                                                aria-labelledby="tab-first">
                                                <!-- form start -->
                                                
                                                    <div class="card-body">
                                                        <div class="form-group">
                                                            <label for="name">Category Name :</label>
                                                            <input type="text" name="category_name" class="form-control" id="name"
                                                                placeholder="Write your category name" required>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="bannerImage">Banner Image :</label>
                                                            <div class="input-group">
                                                                <div class="custom-file">
                                                                    <input type="file" name="category_banner_image" class="custom-file-input"
                                                                        id="bannerImage" accept="image/*"  required>
                                                                    <label class="custom-file-label"
                                                                        for="bannerImage">Select Image</label>
                                                                </div>
                                                            </div>
                                                            <small class="form-text">Upload banner image 1366*350 px for
                                                                best view</small>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="categoryImage">Category Image (Home Page)
                                                                :</label>
                                                            <div class="input-group">
                                                                <div class="custom-file">
                                                                    <input type="file" name="category_home_image" class="custom-file-input"
                                                                        id="categoryImage" accept="image/*" required>
                                                                    <label class="custom-file-label"
                                                                        for="categoryImage">Select Image</label>
                                                                </div>
                                                            </div>
                                                            <small class="form-text">Upload category image 204*120 px for
                                                                best view</small>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="about-category">About Category</label>
                                                            <textarea class="form-control" name="about_category" rows="4" id="about-category"
                                                                placeholder="Write a Review" required></textarea>
                                                        </div>
                                                        
                                                    </div>
                                                    
                                                
                                                    <!-- /.card-body -->

                                                    <div class="card-footer">
                                                        <button type="button" class="btn btn-1 btn-js float-right" step_number="2">Next</button>
                                                    </div>
                                                
                                            </div>
                                            <!-- Second -->
                                            <div class="tab-pane fade " id="step-2" role="tabpanel"
                                                aria-labelledby="tab-second">                                                                                   
                                                    <!-- <form id="form1" runat="server">
                                                    
                                                        <div id="TextBoxContainer">
                                                            
                                                        </div>
                                                        <br />
                                                        <asp:Button ID="btnPost" runat="server" Text="Post"
                                                            OnClick="Post"/>
                                                            <input class="btn btn-1" id="btnAdd" type="button" value="Add Keyword"
                                                            onclick="AddTextBox()" />
                                                    </form> -->
                                                    <div class="form-group">
                                                        <label for="category_seo_title">Category SEO Title
                                                            :</label>
                                                        <input type="text" name="category_seo_title" class="form-control" id="category_seo_title"
                                                            placeholder="Category SEO Title" >
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="category_seo_keyword">Category SEO Keywords
                                                            :</label>
                                                        <input type="text" name="category_seo_keywords" class="form-control" id="category_seo_keyword"
                                                            placeholder="Category SEO Keywords separated by comma(,)" >
                                                    </div>

                                                    <div class="form-group">
                                                        <label for="category_seo_desc">Category SEO Description
                                                            :</label>
                                                        <input type="text" name="category_seo_description" class="form-control" id="category_seo_desc"
                                                            placeholder="Category SEO Description" >
                                                    </div>
                                                    
                                                    <!-- Script -->
                                                    <div class="form-group">
                                                        <label for="aboutBrand"> Category Bot/Script :</label>
                                                        <textarea class="form-control" name="category_script" rows="8" id="aboutBrand"
                                                            placeholder="Paste your script here (optional)"></textarea>
                                                    </div>
                                                    
                                                    <!-- Script_position  -->
                                                    <div class="form-group">
                                                        <label for="territorialYes">Script position:</label>
                                                        <div class="d-flex">
                                                            <div class="custom-control custom-radio">
                                                                <input class="custom-control-input"  type="radio"
                                                                    id="territorialYes" name="category_script_position" value="2" checked>
                                                                <label for="territorialYes"
                                                                    class="custom-control-label">on BODY</label>
                                                            </div>
                                                            <div class="custom-control custom-radio ml-4">
                                                                <input class="custom-control-input" type="radio"
                                                                    id="territorialNo" name="category_script_position" value="1">
                                                                <label for="territorialNo"
                                                                    class="custom-control-label">on HEAD</label>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- /.card-body -->

                                                    <div class="card-footer">
                                                        <button type="button" name="prev_button" step_number="1" class="btn btn-1 btn-js float-left">Prev</button>
                                                        <button type="submit" class="btn-1  float-right">Create</button>
                                                    </div>
                                                
                                            </div>
                                            <!--  -->
                                        </div>
                                    </div>
                                </form>
                                <!-- /.card -->
                            </div>
                        </div>


                    </div>
                    <!-- /.row -->

                </div>
                <!--/. container-fluid -->
            </section>
            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->

        <!-- Control Sidebar -->
        <aside class="control-sidebar control-sidebar-dark">
            <!-- Control sidebar content goes here -->
        </aside>
        <!-- /.control-sidebar -->

        <!-- Main Footer -->
        <footer class="main-footer">
            <strong>Copyright &copy; 2022 <a href="https://www.techfnatic.com/">TechFnatic</a>.</strong>
            All rights reserved.
            <div class="float-right d-none d-sm-inline-block">
                <b>Franchise Brigade</b>
            </div>
        </footer>
    </div>
    <!-- ./wrapper -->

    <!-- REQUIRED SCRIPTS -->
    <!-- jQuery -->
    <script src="{% static '/admin/js/jquery.js' %}"></script>
    <!-- Bootstrap -->
    <script src="{% static '/admin/js/bootstrap.bundle.js' %}"></script>
    <!-- overlayScrollbars -->
    <script src="{% static '/admin/js/jquery.overlayScrollbars.js' %}"></script>
    <!-- AdminLTE App -->
    <script src="{% static '/admin/js/adminlte.js' %}"></script>
    <!-- Custom JS -->
    <script src="{% static '/admin/js/main.js' %}"></script>

    <!-- Summernote -->
    <script src="{% static '/admin/js/summernote-bs4.js' %}"></script>

    <!-- Page specific script -->
    <script>
        
/**
 * Define a function to navigate betweens form steps.
 * It accepts one parameter. That is - step number.
 */
 const navigateToFormStep = (stepNumber) => {
    /**
     * Hide all form steps.
     */
    document.querySelectorAll(".tab-pane").forEach((formStepElement) => {
        formStepElement.classList.remove("active");
    });
    document.querySelectorAll(".tab-pane").forEach((formStepElement) => {
        formStepElement.classList.remove("show");
    });
    /**
     * Mark all form steps as unfinished.
     */
    document.querySelectorAll(".nav-link").forEach((formStepHeader) => {
        // formStepHeader.classList.add("");
        formStepHeader.classList.remove("active");
    });
    /**
     * Show the current form step (as passed to the function).
     */
    console.log("#step-" + stepNumber);
    document.querySelector("#step-" + stepNumber).classList.add("active");
    document.querySelector("#step-" + stepNumber).classList.add("show");
    /**
     * Select the form step circle (progress bar).
     */
    const formStepCircle = document.querySelector('span[step="' + stepNumber + '"]');
    /**
     * Mark the current form step as active.
     */
    // formStepCircle.classList.remove("");
    formStepCircle.classList.add("active");
    /**
     * Loop through each form step circles.
     * This loop will continue up to the current step number.
     * Example: If the current step is 3,
     * then the loop will perform operations for step 1 and 2.
     */
    for (let index = 0; index < stepNumber; index++) {
        /**
         * Select the form step circle (progress bar).
         */
        const formStepCircle = document.querySelector('span[step="' + index + '"]');
        /**
         * Check if the element exist. If yes, then proceed.
         */
        if (formStepCircle) {
            console.log(index)
            /**
             * Mark the form step as completed.
             */
            formStepCircle.classList.add("active");
        }
    }
};
/**
 * Select all form navigation buttons, and loop through them.
 */
document.querySelectorAll(".btn-js").forEach((formNavigationBtn) => {
    /**
     * Add a click event listener to the button.
     */
    formNavigationBtn.addEventListener("click", () => {
        /**
         * Get the value of the step.
         */
        const stepNumber = parseInt(formNavigationBtn.getAttribute("step_number"));
        // console.log(stepNumber);
        /**
         * Call the function to navigate to the target form step.
         */
        navigateToFormStep(stepNumber);
    });
});

    </script>
    <script>
        $(function () {
            // Summernote
            $('#about-category').summernote()

            // CodeMirror
            CodeMirror.fromTextArea(document.getElementById("codeMirrorDemo"), {
                mode: "htmlmixed",
                theme: "monokai"
            });
        })
    </script>
    <script type="text/javascript">
        function GetDynamicTextBox(value,id_value) {
            return '<input name = "DynamicTextBox" id="'+id_value+'" onkeyup="wordLimit(this, 1);"  type="text" value = "' + value + '" />' +
                '<input type="button" value="Remove" onclick = "RemoveTextBox(this)" />'
        }
        
        

        function AddTextBox() {
            var div = document.createElement('DIV');  
            div.innerHTML = GetDynamicTextBox("","seo_add_list");
            document.getElementById("TextBoxContainer").appendChild(div);
            
        }
        function RemoveTextBox(div) {
            document.getElementById("TextBoxContainer").removeChild(div.parentNode);
        }

        function RecreateDynamicTextboxes() {
            var values = eval('<%=Values%>');
            if (values != null) {
                var html = "";
                for (var i = 0; i < values.length; i++) {
                    html += "<div>" + GetDynamicTextBox(values[i]) + "</div>";
                }
                document.getElementById("TextBoxContainer").innerHTML = html;
            }
        }
        window.onload = RecreateDynamicTextboxes;
    </script>

<script>
    function wordLimit(inp, limit){
    var val = inp.value
    var words = val.split(/\s+/);
    var legal = "";
    for(i = 0; i < words.length; i++) {
        if(i < limit) {
            legal += words[i] + " ";
        }
        if(i >= limit) {
            inp.value = legal.trim();
        }
    }
}
</script>

<!-- Input field js -->
<script>
    !function (e, t) { "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : (e = e || self).bsCustomFileInput = t() }(this, function () { "use strict"; var s = { CUSTOMFILE: '.custom-file input[type="file"]', CUSTOMFILELABEL: ".custom-file-label", FORM: "form", INPUT: "input" }, l = function (e) { if (0 < e.childNodes.length) for (var t = [].slice.call(e.childNodes), n = 0; n < t.length; n++) { var l = t[n]; if (3 !== l.nodeType) return l } return e }, u = function (e) { var t = e.bsCustomFileInput.defaultText, n = e.parentNode.querySelector(s.CUSTOMFILELABEL); n && (l(n).textContent = t) }, n = !!window.File, r = function (e) { if (e.hasAttribute("multiple") && n) return [].slice.call(e.files).map(function (e) { return e.name }).join(", "); if (-1 === e.value.indexOf("fakepath")) return e.value; var t = e.value.split("\\"); return t[t.length - 1] }; function d() { var e = this.parentNode.querySelector(s.CUSTOMFILELABEL); if (e) { var t = l(e), n = r(this); n.length ? t.textContent = n : u(this) } } function v() { for (var e = [].slice.call(this.querySelectorAll(s.INPUT)).filter(function (e) { return !!e.bsCustomFileInput }), t = 0, n = e.length; t < n; t++)u(e[t]) } var p = "bsCustomFileInput", m = "reset", h = "change"; return { init: function (e, t) { void 0 === e && (e = s.CUSTOMFILE), void 0 === t && (t = s.FORM); for (var n, l, r = [].slice.call(document.querySelectorAll(e)), i = [].slice.call(document.querySelectorAll(t)), o = 0, u = r.length; o < u; o++) { var c = r[o]; Object.defineProperty(c, p, { value: { defaultText: (n = void 0, n = "", (l = c.parentNode.querySelector(s.CUSTOMFILELABEL)) && (n = l.textContent), n) }, writable: !0 }), d.call(c), c.addEventListener(h, d) } for (var f = 0, a = i.length; f < a; f++)i[f].addEventListener(m, v), Object.defineProperty(i[f], p, { value: !0, writable: !0 }) }, destroy: function () { for (var e = [].slice.call(document.querySelectorAll(s.FORM)).filter(function (e) { return !!e.bsCustomFileInput }), t = [].slice.call(document.querySelectorAll(s.INPUT)).filter(function (e) { return !!e.bsCustomFileInput }), n = 0, l = t.length; n < l; n++) { var r = t[n]; u(r), r[p] = void 0, r.removeEventListener(h, d) } for (var i = 0, o = e.length; i < o; i++)e[i].removeEventListener(m, v), e[i][p] = void 0 } } });
</script>
<script>
    $(function () {
        bsCustomFileInput.init();
    });
</script>


    <!-- Next and Prev  Button -->
    <!-- <script>
        $('.btnNext').click(function () {
            $('.nav-tabs > .active').next('li').find('a').trigger('click');
        });

        $('.btnPrevious').click(function () {
            $('.nav-tabs > .active').prev('li').find('a').trigger('click');
        });
    </script> -->

</body>

</html>